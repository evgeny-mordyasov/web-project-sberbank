# О проекте
### Суть
Текущий репозиторий представляет собой web-приложение, предоставляющее базовую работу со справочником контрагентов. Справочник же представляет собой некоторую
совокупность контрагентов, наполненных необходимой информацией. Контрагент представляется в виде набора определенных данных:
- Наименование;
- ИНН;
- КПП;
- Номер счета;
- БИК.

Основные доступные операции над справочником:
- просмотр всех контрагентов;
- добавить контрагента;
- удалить контрагента;
- обновить контрагента;
- поиск контрагентов (осуществляется по выбранному фильтру).

Справочник позволяет хранить информацию о контрагентах довольно длительный срок, что намекает о использовании базы данных. Изначально в ней уже хранится определенная
информация для предоставления возможности проверки всего имеющегося функционала без приложения к этому усилий. Поэтому Вам не стоит беспокоиться о заполнении 
справочника данными.

### Используемые технологии/фреймворки:
- Java 15;
- Maven;
- Spring Framework (Core, Boot, Data JPA, MVC);
- JUnit 5, Mockito;
- H2 (database);
- HTML, CSS, Thymeleaf, Bootstrap 5;
- Swagger.


# Запуск приложения
Нижеописанные команды необходимо ввести в _Terminal_ для получения желаемого результата. Но перед вводом команд во избежание неприятных ситуаций желательно совершить
лишь одно действие, которое можно заметить, открыв на правой боковой панели раздел Maven: *Reload All Maven Projects*. После проделанной процедуры стоит подождать некоторое
время для устранения возникших неполадок.<br/><br/>
Команда для запуска web-приложения:<br/>
```
mvn spring-boot:run
```

Команда для запуска тестов:<br/>
```
mvn clean test
```

Если во время выполнения первой команды возникли какие-либо ошибки, то попробуйте сначала совершить вот такую процедуру: `Maven -> Lifecycle -> package`<br/><br/>
После сборки проекта попробуйте выполнить первую команду снова.

Когда у Вас прошло всё успешно, то для того, чтобы познакомиться с web-приложением, Вы должны перейти на следующий адрес:<br/>
`http://localhost:8080/catalog` <br/><br/>
Перейдя по указанному адресу, Вы увидите сам справочник контрагентов и две кнопки: *поиск* и *операции*, расположенные сверху слева и справа соответственно.
Можете приступать к работе.

Хочется еще отметить, что web-приложение поддерживается swagger doc, доступный по текущему адресу:<br/>
`http://localhost:8080/swagger-ui/index.html` <br/><br/>
Перейдя по этому адресу, Вы сможете подробно ознакомиться со всеми используемыми методами HTTP-запросов в данном приложении.

# Дополнительная информация
### API и сервисы
Как можно заметить, web-приложение не разделяется на два важных слоя: api и сервисы. Всё объединено непосредственно в один для того, чтобы взаимосвязь частей каждого 
приложения прослеживалась ясно и понятно. В моем случае это реализовано вот таким образом:</br>
`database -> repository (DAO) -> service -> controller` </br></br>

Все данные берутся из базы данных и проходят определенный путь вплоть до view (на html страницу). Конечно, упоминание вышеописанного подхода (разделение на api и сервисы) является правильной практикой при написании web-приложения. Но в данном проекте этот момент упущен не только по уже указанной причине, но и потому, что основное время на разработку web-приложения ушло непосредственно на стилизацию страниц с помощью Bootstrap 5. Поэтому, надеюсь, этот момент никаким образом не скажется на оценивание данного проекта.

### База данных
Выше было уже сказано, что база данных при написании web-приложения использовалась H2 (встроенная в Java database). Я хотел избавить Вас от дополнительных телодвижений по настройке базы данных до полноценного функционирования, поэтому мой выбор выпал именно на H2 (за Вас было уже сделано всё, Вам не придется думать о базе данных).

В этом проекте используются два вида H2: file и mem, где:
- file означает, что данные хранятся в виде файла (в моем проекте в директории db расположена база данных);
- mem означает, что данные хранятся в оперативной памяти (в моем проекте используется для тестирования).

Думаю, понятно, что функционал всего проекта направлен именно на работу H2:file, изначально хранящий определенные данные для упрощения использования web-приложения.
H2:mem используется для тестирования repository-service слоев. Но для адекватного тестирования нам не получится сначала добавить данные через service, а потом тестировать service-слой. Поэтому я использовал sql-скрипты по загрузке определенных данных (они простые и понятны, буквально пару строчек). Всю информацию о H2 в проекте Вы можете найти в
файлах *application.properties*.

### Поиск и операции над справочником
В проекте можно обнаружить, что перед тем, как обновить или удалить запись в справочнике, необходимо сначала эту запись найти, введя идентификатор или наименование. В поиске по фильтру мы можем ТОЛЬКО найти запись, ничего при этом не делая с ней. Тогда возникает вопрос, в чем же отличие, если мы можем посмотреть информацию о записи, зайдя в операцию удаления\обновления, не пользуясь поиском? Это разделение было сделано для того, чтобы логически отделить два важных блока по взаимодействию со справочником: явная работа с ним и ознакомление с информацией. В блок поиска в дальнейшем может добавиться достаточно много фильтров, позволяющих совершать гибкий поиск информации в справочнике. В операциях всё так же останутся два вида поиска записи для ее удаления\обновления - по идентификатору или наименованию. Поэтому, хоть этот способ и порождает дополнительный код, это кажется, как по мне, довольно разумно.  
